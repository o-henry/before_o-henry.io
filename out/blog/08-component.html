<!DOCTYPE html><html lang="ko"><head><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><meta name="Description" content="Personal Blog"/><title>Henry&#x27;s log</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/fc00e196a5278a06aea8.css" as="style"/><link rel="stylesheet" href="/_next/static/css/fc00e196a5278a06aea8.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.e3de07479da4f2477dea.js" as="script"/><link rel="preload" href="/_next/static/chunks/d70fd1b25595f0b45425438df4c8a48f991b761f.e7f675c8e0e3e55d570c.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-5c0423c3a3b70e663dcc.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-e1b3c05385fe05756f1d.js" as="script"/><link rel="preload" href="/_next/static/chunks/9f917d090185b33e627b1e04aac6c3f505528bc0.837dddf646bee485fe57.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/08-component-5c9db58e717a9b591ffd.js" as="script"/><style id="__jsx-2632742570">.hide.jsx-2632742570{display:none;}h1.jsx-2632742570{font-size:1.5rem;font-weight:700;color:var(--color-header);font-family:"Poppins";}.great-title.jsx-2632742570{font-size:3.125rem;text-align:center;color:var(--color-header);}.details.jsx-2632742570 span.jsx-2632742570{color:#bdbdbd;margin-right:1rem;}.details.jsx-2632742570{font-weight:300;margin-bottom:2px;font-size:11pt;line-height:22pt;-webkit-letter-spacing:0.8px;-moz-letter-spacing:0.8px;-ms-letter-spacing:0.8px;letter-spacing:0.8px;font-family:"NotoSansKR-Thin",MalgunGothic;}.date.jsx-2632742570{font-size:15px;}</style></head><body><script>(function() {
	function setInitialColorMode() {
  function getInitialColorMode() {
    const persistedColorPreference = window.localStorage.getItem("theme");
    const hasPersistedPreference = typeof persistedColorPreference === "string";
    /**
     * If the user has explicitly chosen light or dark,
     * use it. Otherwise, this value will be null.
     */

    if (hasPersistedPreference) {
      return persistedColorPreference;
    } // If there is no saved preference, use a media query


    const mql = window.matchMedia("(prefers-color-scheme: dark)");
    const hasMediaQueryPreference = typeof mql.matches === "boolean";

    if (hasMediaQueryPreference) {
      return mql.matches ? "dark" : "light";
    } // default to 'light'.


    return "light";
  }

  const colorMode = getInitialColorMode();
  const root = document.documentElement;
  root.style.setProperty("--initial-color-mode", colorMode); // add HTML attribute if dark mode

  if (colorMode === "dark") document.documentElement.setAttribute("data-theme", "dark");
}
	setInitialColorMode();
})()
</script><div id="__next"><main><div style="display:flex;align-items:center;justify-content:center"><div style="flex:9"><a href="/"><h1 style="font-size:1.125rem">Henry</h1></a></div><div style="flex-shrink:0;width:15px"></div><a href="/blog"><h2 style="font-size:0.825rem">Blog</h2></a><div style="flex-shrink:0;width:15px"></div><a href="/about"><h2 style="font-size:0.825rem">About</h2></a><div style="flex-shrink:0;width:15px"></div><label><input type="checkbox"/><svg width="1em" height="1em" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg" style="position:relative;font-size:25px;top:3.465px"><path d="M11.75 35.417l-1.48 1.479a2.083 2.083 0 000 2.937 2.084 2.084 0 002.938 0l1.48-1.479a2.084 2.084 0 00-2.938-2.937zM10.417 25a2.083 2.083 0 00-2.084-2.083H6.25a2.083 2.083 0 000 4.166h2.083A2.083 2.083 0 0010.417 25zM25 10.417a2.083 2.083 0 002.083-2.084V6.25a2.083 2.083 0 00-4.166 0v2.083A2.083 2.083 0 0025 10.417zm-13.25 4.27a2.084 2.084 0 002.938 0 2.084 2.084 0 000-2.937l-1.48-1.48a2.083 2.083 0 00-2.937 2.938l1.48 1.48zm25 .605a2.084 2.084 0 001.458-.604l1.48-1.48a2.082 2.082 0 10-2.938-2.937l-1.333 1.479a2.083 2.083 0 000 2.938c.367.365.857.58 1.375.604h-.042zm7 7.625h-2.083a2.083 2.083 0 000 4.166h2.083a2.083 2.083 0 000-4.166zM25 39.583a2.083 2.083 0 00-2.083 2.084v2.083a2.083 2.083 0 004.166 0v-2.083A2.083 2.083 0 0025 39.583zm13.25-4.166a2.084 2.084 0 00-2.833 2.833l1.479 1.48a2.084 2.084 0 002.937 0 2.083 2.083 0 000-2.938l-1.583-1.375zM25 13.542A11.458 11.458 0 1036.458 25 11.48 11.48 0 0025 13.542zm0 18.75a7.292 7.292 0 110-14.585 7.292 7.292 0 010 14.585z" fill="#000"></path></svg></label></div><div class="content"><h1 class="jsx-2632742570 great-title">Component Pattern</h1><div class="jsx-2632742570 details"><span class="jsx-2632742570 hide">May 9, 2021</span><span class="jsx-2632742570 hide">10 min read</span></div><article><div style="margin-top:4rem;font-family:NotoSansKR-Thin, MalgunGothic;font-size:11pt;line-height:22pt;letter-spacing:.8px"><h1>Reusable</h1><p>리액트 컴포넌트를 만들다 보면, 어떻게 재활용 가능한 코드를 구현할 수 있을지 고민하게 됩니다.
실예로, 많은 사람들이 자주 사용하는 디자인 시스템들의 경우, 손쉽게 해당 UI를 재사용할 수 있게 해줍니다.
해당 컴포넌트를 사용하면서, API를 참조할 뿐, 내부 구현에 대해 신경쓰지 않고 사용합니다.
어떻게 해야 재사용 가능한 컴포넌트를 작성할 수 있을지에 대해 알아본 내용을 정리하겠습니다.</p><br/><h1>Context</h1><p>리액트는 Hook 과 함께 function에서도 상태관리를 할 수 있게 되었으며, <strong>custom hook</strong> 을 사용해 재사용의 이점 또한 갖게 되었습니다.
그리고 <strong>Context API</strong>의 개발은, Redux와 같은 Flux 구조의 global 한 상태 관리가 아니어도, Prop drilling을 피할 수 있는 상태 관리 기능을 갖추게 되었습니다.
물론 Context를 사용하게 되면, Context를 사용한 특정 범위안에 스토어가 생기게 되어, Context를 벗어난 곳에서는 사용할 수 없다는 문제와, 재사용이 불가능한 컴포넌트가 된다는 문제점이 있습니다.</p><br/><h1>Compound Component</h1><div style="font-family:Poppins, &quot;SeoulNamsanL&quot;;border-radius:4px;line-height:1.9rem;max-width:100%;font-size:0.965rem;font-weight:100;position:relative;padding:2rem 1rem"><p>Think of compound component like the <code>&lt;select&gt;</code> and <code>&lt;option&gt;</code> elements in HTML.
Apart they don&#x27;t do too much, but together they allow you to create the complete experience. - Kent C.Dodds</p></div><p>Compound Component는 암묵적 상태를 공유하고, 컴포넌트 사용자에게는 유연성을 부여합니다.
내부 동작은 추상화 하고, 사용자에게는 재사용 가능한 컴포넌트의 로직을 신경쓰지 않도록 가능하게 해줍니다.
사용자는 그저, 해당 요소의 배치에만 관심을 갖으면 됩니다.</p><br/><h1>Implementation</h1><p>구현 예제의 경우 많은 예제가 존재하기 때문에 따로 다루지는 않겠지만,
요점은 이렇습니다. 재사용 가능하게 하기 위하여 <strong>Hook</strong> 과 <strong>Context</strong> 를 활용하는 것 입니다.
위에서 말했듯이, hook은 재사용 가능하다는 이점이 있으며, context는 상태관리의 이점을 갖고 있습니다.</p><div class="blog-post"><div class="language-ts"><pre class="language-ts"><span class="token keyword">const</span> <span class="token maybe-class-name">TabsContext</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">createContext</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token maybe-class-name">ITabsContext</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useTabs <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">ITabsContext</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useContext</span><span class="token punctuation">(</span><span class="token maybe-class-name">TabsContext</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token known-class-name class-name">Error</span></span><span class="token punctuation">(</span><span class="token string">&quot;이 컴포넌트는 &lt;Tabs&gt; 컴포넌트에서만 사용할 수 있습니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> context<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre></div></div><br/><h1>Provider Pattern</h1><p><strong>Provider pattern</strong> 은 리액트 컴포넌트 트리전체에서 데이터를 공유할 수 있는 방법 입니다.
페이지에 공유 데이터를 로드하고 표시하는 문제는 페이지에 액세스해야 하는 하위 구성 요소에 해당 공유 상태를 제공하는 것입니다.
이를 위해서 우리는 <strong>Context API</strong>로 data provider를 생성하고, data를 fetching 하고 전체 컴포넌트 트리에 상태를 제공할 수 있습니다.
이 경우, child 컴포넌트가 얼마나 깊게 nesting 되어있는지와 관계없이, 같은 데이터에 접근할 수 있습니다.</p></div><br/><hr style="width:15px;border:0.325px solid gray;margin-top:1.125rem;margin-bottom:1.125rem"/><h5>참조</h5><p><a href="https://dev.to/alexi_be3/react-component-patterns-49ho">component-pattern</a></p></article></div></main><footer style="font-size:0.625rem;font-weight:200;margin-top:2.625rem;margin-bottom:2.5rem">2021 © Henry</footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/08-component","query":{},"buildId":"kpWJ964mcWoDKyldytxUN","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-66eb52db556fc265c826.js"></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.e3de07479da4f2477dea.js" async=""></script><script src="/_next/static/chunks/d70fd1b25595f0b45425438df4c8a48f991b761f.e7f675c8e0e3e55d570c.js" async=""></script><script src="/_next/static/chunks/main-5c0423c3a3b70e663dcc.js" async=""></script><script src="/_next/static/chunks/pages/_app-e1b3c05385fe05756f1d.js" async=""></script><script src="/_next/static/chunks/9f917d090185b33e627b1e04aac6c3f505528bc0.837dddf646bee485fe57.js" async=""></script><script src="/_next/static/chunks/pages/blog/08-component-5c9db58e717a9b591ffd.js" async=""></script><script src="/_next/static/kpWJ964mcWoDKyldytxUN/_buildManifest.js" async=""></script><script src="/_next/static/kpWJ964mcWoDKyldytxUN/_ssgManifest.js" async=""></script></body></html>